<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Product Specification Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 p-6">

    <button type="button" onclick="window.history.back()"
        class="px-4 py-2 bg-blue-700 text-white rounded hover:bg-gray-300 hover:text-gray-900 transition-colors duration-200 flex items-center gap-2">
        <!-- Optional left arrow icon -->
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
        Back
    </button>

    <!-- loader -->
    <section id="loader" class="hidden">
        <div class="flex items-center justify-center min-h-[300px]">
            <div class="flex flex-col items-center space-y-4">
                <!-- Spinner -->
                <div
                    class="w-[60px] h-[60px] border-4 border-indigo-500 border-t-transparent rounded-full animate-spin">
                </div>
                <!-- Text -->
                <p class="text-gray-600 font-medum text-2xl">Saving product.....</p>
            </div>
        </div>
    </section>

    <!-- product form start -->
    <div id="full-form" class="max-w-5xl mx-auto bg-white px-6 pt-2 pb-2 rounded shadow-md">
        <h1 class="text-3xl text-white bg-blue-600 p-1 text-center font-bold mb-4">----------- Add New Product
            -----------</h1>
        <form id="productForm" class="space-y-6">

            <div class="w-auto mx-auto bg-white p-4 rounded shadow-md space-y-4">
                <h2 class="text-xl font-semibold mb-4">General Info:</h2>

                <!-- Product Name -->
                <div class="flex flex-col">
                    <label for="productName" class="mb-1 font-medium text-gray-700">Product Name</label>
                    <input type="text" id="productName" name="name" placeholder="Enter product name" required
                        class="p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>


                <!-- brand Name -->
                <div class="flex flex-col">
                    <label for="productName" class="mb-1 font-medium text-gray-700">Brand Name</label>
                    <input type="text" id="brandName" name="brandName" placeholder="Enter Brand name"
                        class="p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>


                <!-- Price -->
                <div class="flex flex-col">
                    <label for="price" class="mb-1 font-medium text-gray-700">Price</label>
                    <input type="number" id="price" name="price" placeholder="Enter price" required
                        class="p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <!-- Stock -->
                <div class="flex flex-col">
                    <label for="stock" class="mb-1 font-medium text-gray-700">Stock Quantity</label>
                    <input type="number" id="stock" name="stock" placeholder="Enter stock quantity"
                        class="p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>


                <select id="categoryDropdown" name="category" class="w-full border p-2 rounded-lg" required>
                    <option value="">-- Select Category --</option>
                </select>

                <!-- Category
                <div class="flex flex-col">
                    <label for="category" class="mb-1 font-medium text-gray-700">Category</label>
                    <select id="category" name="category"
                        class="p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="">Select category</option>
                        <option value="hardware">Hardware</option>
                        <option value="cpu">CPU</option>
                        <option value="network">Network</option>
                        <option value="gpu">GPU</option>
                        <option value="display">Display</option>
                        <option value="battery">Battery</option>
                        <option value="software">Software</option>
                        <option value="ports">Ports</option>
                        <option value="audio">Audio</option>
                        <option value="dimensions">Dimensions</option>
                    </select>
                </div> -->

                <!-- Product Image -->
                <div class="flex flex-col">
                    <label for="image" class="mb-1 font-medium text-gray-700">Product Image</label>
                    <input type="text" placeholder="Enter image link" id="image" required name="images" accept="image/*"
                        class="p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
            </div>

            <!-- Category Template -->
            <script>
                function createCategory(id, name) {
                    return `
                    
            <div class="border p-4 mb-2 rounded-lg">
              <div class="flex items-center justify-between mb-2">
                <label class="flex items-center gap-2 font-semibold">
                  <input type="checkbox" id="${id}Check" onclick="toggleCategory('${id}Fields')">
                  ${name}
                </label>
                <button type="button" onclick="addKeyValue('${id}Fields')" class="text-green-600 font-bold text-xl">+</button>
              </div>
              <div id="${id}Fields" class="space-y-2 hidden">
                <div class="flex gap-4 items-center">
                  <input type="text" placeholder="Key" class="p-2 border rounded w-1/2" name="${id}Key[]">
                  <input type="text" placeholder="Value" class="p-2 border rounded w-1/2" name="${id}Value[]">
                  <button type="button" onclick="removeBox(this)" class="text-red-600 font-bold text-xl">×</button>
                </div>
              </div>
            </div>
          `;
                }
            </script>

            <!-- Categories -->
            <div id="categoriesContainer"></div>

            <!-- Submit Button -->
            <div class="text-right">
                <button type="submit" id="save-product"
                    class="px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                    Save Product
                </button>
            </div>
        </form>
    </div>

    <script>
        const categories = [
            { id: "hardware", name: "Hardware" },
            { id: "cpu", name: "CPU" },
            { id: "network", name: "Network" },
            { id: "gpu", name: "GPU" },
            { id: "display", name: "Display" },
            { id: "battery", name: "Battery" },
            { id: "software", name: "Software" },
            { id: "ports", name: "Ports" },
            { id: "audio", name: "Audio" },
            { id: "dimensions", name: "Dimensions" },
            { id: "color", name: "Color" },
        ];

        const container = document.getElementById('categoriesContainer');
        categories.forEach(cat => {
            container.innerHTML += createCategory(cat.id, cat.name);
        });

        // Show/hide category fields
        function toggleCategory(id) {
            const el = document.getElementById(id);
            el.classList.toggle('hidden');
        }

        // Add new key-value input pair
        function addKeyValue(containerId) {
            const container = document.getElementById(containerId);
            const div = document.createElement('div');
            div.className = 'flex gap-4 items-center';
            div.innerHTML = `
        <input type="text" placeholder="Key" class="p-2 border rounded w-1/2" name="${containerId}Key[]">
        <input type="text" placeholder="Value" class="p-2 border rounded w-1/2" name="${containerId}Value[]">
        <button type="button" onclick="removeBox(this)" class="text-red-600 font-bold text-xl">×</button>
      `;
            container.appendChild(div);
        }

        // Remove key-value input pair
        function removeBox(button) {
            button.parentElement.remove();
        }
    </script>

    <script>
        window.onload = function () {
            window.scrollTo(0, 0);
        };
    </script>

    <script src="product.js"></script>
</body>

</html>